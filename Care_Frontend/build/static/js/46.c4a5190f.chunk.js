(window.webpackJsonp=window.webpackJsonp||[]).push([[46,51],{1138:function(e,t,a){"use strict";a.d(t,"a",function(){return i});a(49);var n=a(28),r=(a(0),a(13)),l=a(27),o=(a(93),a(78),a(20)),c=a(539),s=a(262),i=function(e){var t=Object(r.c)(),a=Object(l.a)();return Object(n.useMutation)(c.a,{onSuccess:function(e){var n={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(n,"result"),t(Object(s.a)(n.data)),Object(o.a)("The Profile Edite has been created","success"),setTimeout(function(){a.history.push("/")},2e3)},onError:function(e){var t,a;Object(o.a)(null===e||void 0===e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,"error")}})}},1146:function(e,t,a){"use strict";a(0),a(49);var n=a(28),r=a(13),l=a(27),o=(a(93),a(78),a(20)),c=(a(539),a(262),a(12)),s=a.n(c),i=a(21),u=a(22),d=function(){var e=Object(i.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"multipart/form-data",token:localStorage.getItem("token")}},e.next=3,u.a.post("worker/create",t,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),m=a(263);a.d(t,"a",function(){return f});var f=function(e){var t=Object(r.c)();Object(l.a)();return Object(n.useMutation)(d,{onSuccess:function(e){var a={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(a,"result"),t(Object(m.a)(a.data)),Object(o.a)("The Profile Edite has been created","success")},onError:function(e){var t,a;Object(o.a)(null===e||void 0===e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,"error")}})}},1153:function(e,t,a){"use strict";a.r(t);var n=a(8),r=(a(1138),a(1146)),l=a(20),o=a(0),c=a.n(o),s=a(13),i=a(102),u=a(27),d=a(145),m=function(e){var t=e.id;console.log(t);var a=Object(o.useState)(""),m=Object(n.a)(a,2),f=m[0],v=m[1],b=Object(o.useState)(""),p=Object(n.a)(b,2),E=p[0],g=p[1],O=Object(o.useState)(""),h=Object(n.a)(O,2),j=h[0],N=h[1],w=Object(o.useState)(""),C=Object(n.a)(w,2),x=C[0],k=C[1],S=Object(o.useState)(""),y=Object(n.a)(S,2),P=y[0],T=y[1],A=Object(o.useState)(""),U=Object(n.a)(A,2),D=U[0],_=U[1],L=Object(o.useState)(""),B=Object(n.a)(L,2),W=B[0],q=B[1],G=Object(o.useState)(""),I=Object(n.a)(G,2),M=I[0],F=I[1],R=Object(o.useState)(""),H=Object(n.a)(R,2),J=(H[0],H[1],Object(o.useState)("")),V=Object(n.a)(J,2),X=(V[0],V[1],Object(u.a)(),{});localStorage.getItem("user")&&(X=JSON.parse(localStorage.getItem("user")),console.log(X.id));Object(d.a)().data;var z=Object(s.d)(function(e){return e.GetAllUserSlice}).AllUserData,K=Object(r.a)(),Q=(K.isLoading,K.mutate),Y=(K.isError,K.error,K.refetch,Object(s.d)(function(e){return e.GreateProfileSlice}).GreateProfileData);return console.log(Y),c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"m-5"}),c.a.createElement("form",{className:"row g-3 bg-white needs-validation m-5",novalidate:!0},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"BOD"),c.a.createElement("input",{type:"date",onChange:function(e){v(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom02",className:"form-label fw-bold"},"NI_Number"),c.a.createElement("input",{type:"number",onChange:function(e){g(e.target.value)},className:"form-control",id:"validationCustom02",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"Adress"),c.a.createElement("input",{type:"text",onChange:function(e){N(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"Phone"),c.a.createElement("input",{type:"number",onChange:function(e){k(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"NEXT_OF_KIN"),c.a.createElement("input",{type:"text",onChange:function(e){T(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"SEX"),c.a.createElement("input",{type:"text",onChange:function(e){q(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"NEXT_OF_KIN_CONTACT"),c.a.createElement("input",{type:"text",onChange:function(e){_(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"Application"),c.a.createElement("input",{className:"form-control",onChange:function(e){e.target.files&&e.target.files[0]&&F(e.target.files[0])},type:"file",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-12"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:function(e){if(e.preventDefault(),null===z||void 0===z||z.filter(function(e){return e}),""===f||""===M||""===E||""===W||""===j||""===D||""===P||""===x)Object(l.a)("Please complete the fields","warn");else{var a=new FormData;a.append("Ni_Number",E),a.append("BOD",f),a.append("sex",W),a.append("Adress",j),a.append("next_of_kin_Contact",D),a.append("next_of_kin",P),a.append("phone",x),a.append("user_email",t),a.append("Application",M),Q(a)}}},"Create"))),c.a.createElement(i.a,null))};a.d(t,"default",function(){return m})},1154:function(e,t,a){"use strict";a.d(t,"a",function(){return i});a(49);var n=a(28),r=(a(0),a(13)),l=a(27),o=a(93),c=a(78),s=a(20),i=function(e){var t=Object(r.c)(),a=Object(l.a)();return Object(n.useMutation)(o.a,{onSuccess:function(e){var n={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(n,"result"),t(Object(c.a)(n.data)),Object(s.a)("The account has been created","success"),setTimeout(function(){a.history.push("/auth/login")},2e3)},onError:function(e){var a,n,r={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};t(Object(c.c)(r.data)),console.log(e.response.data.message),Object(s.a)(null===e||void 0===e?void 0:null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message,"error")}})}},1213:function(e,t,a){"use strict";var n=a(12),r=a.n(n),l=a(21),o=a(8),c=a(0),s=a.n(c),i=(a(1154),a(13)),u=(a(49),a(28)),d=a(27),m=a(93),f=a(20),v=a(335),b=a(102);a(1153),t.a=function(e){var t=e.handleClose,a=Object(c.useState)(),n=Object(o.a)(a,2),p=n[0],E=n[1],g=Object(c.useState)(""),O=Object(o.a)(g,2),h=O[0],j=O[1],N=Object(c.useState)(""),w=Object(o.a)(N,2),C=w[0],x=w[1],k=Object(c.useState)(0),S=Object(o.a)(k,2),y=S[0],P=S[1];console.log(p);var T={email:p,password:h,username:C,role:+y},A=function(e){var t=Object(i.c)(),a=(Object(d.a)(),Object(u.useQueryClient)());return Object(u.useMutation)(m.a,{onSuccess:function(e){var n={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(n,"result"),t(Object(v.a)(n.data)),Object(f.a)("The account has been created","success"),a.invalidateQueries("getprofile")},onError:function(e){var a,n,r,l,o={status:e.status+"-"+e.statusText,headers:e.headers,data:null===e||void 0===e?void 0:null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message};t(Object(v.c)(o.data)),console.log(e.response.data.message),Object(f.a)(null===e||void 0===e?void 0:null===(r=e.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.message,"error")}})}(),U=(A.isLoading,A.mutate),D=A.data,_=A.error,L=(A.refetch,Object(i.d)(function(e){return e.WorkerSignUpSlice})),B=(L.WorkerUserSignUpData,L.errors);console.log(B);var W=function(){var e=Object(l.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""===p||""===h||""===C||""===y?Object(f.a)("Complete the fields","error"):U(T);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)(function(){D&&(t(),Object(f.a)("The account has been created","success"))},[D]),Object(c.useEffect)(function(){B&&("email in use"===B?Object(f.a)("email in use","error"):_!==[]&&B.map(function(e){return Object(f.a)(e,"error")}))},[B]),s.a.createElement("div",null,s.a.createElement("div",{class:"input-group m-2"},s.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"UserName"),s.a.createElement("input",{type:"text",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){console.log(e.target.value),x(e.target.value)},placeholder:"UserName",id:"dateofbirth"})),s.a.createElement("div",{class:"input-group m-2"},s.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"Email"),s.a.createElement("input",{type:"text",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){E(e.target.value)},placeholder:"Email",id:"dateofbirth"})),s.a.createElement("div",{class:"input-group m-2"},s.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"PassWord"),s.a.createElement("input",{type:"text",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){j(e.target.value)},placeholder:"PassWord",id:"dateofbirth"})),s.a.createElement("div",{class:"input-group m-2"},s.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"Role"),s.a.createElement("input",{type:"number",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){P(e.target.value)},placeholder:"Role",id:"dateofbirth"})),s.a.createElement("div",{className:"d-flex justify-content-end p-3"},s.a.createElement("button",{onClick:W,className:"p-2 saveBtn"},"Save")),s.a.createElement(b.a,null))}},1496:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(0),l=a.n(r),o=a(1051),c=(a(42),a(26)),s=a(9),i=a(2),u=a(1092),d=a(92),m=a(1079),f=a(16),v=a(1213),b=Object(o.a)(function(){return{root:{}}}),p=function(e){var t=e.className,a=e.AllUserData,o=Object(s.a)(e,["className","AllUserData"]),c=Object(r.useState)(!1),p=Object(n.a)(c,2),E=p[0],g=p[1],O=function(){return g(!1)},h=b();return l.a.createElement("div",Object.assign({},o,{className:Object(i.a)(h.root,t)}),l.a.createElement(f.a,{show:E,onHide:O},l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,{className:"text-center "},l.a.createElement("div",{className:""},"   Add Worker"))),l.a.createElement(f.a.Body,null,l.a.createElement(v.a,{handleClose:O})),l.a.createElement(f.a.Footer,null)),l.a.createElement(u.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},l.a.createElement(u.a,{item:!0},l.a.createElement(d.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Management"),l.a.createElement(d.a,{component:"h1",variant:"h3"},"Workers(",null===a||void 0===a?void 0:a.length,")")),l.a.createElement(u.a,{item:!0},l.a.createElement(m.a,{onClick:function(){return g(!0)},color:"primary",variant:"contained"},"Add Worker"))))},E=a(30),g=a(50),O=a.n(g),h=a(1072),j=a(1087),N=a(1076),w=a(1073),C=a(1103),x=a(1107),k=a(1105),S=a(1106),y=a(1104),P=a(1078),T=a(1088),A=a(1121),U=(a(112),a(145)),D=a(13),_=a(264),L=a(27),B=a(1153),W=Object(o.a)(function(e){return{root:{},content:{padding:0},inner:{minWidth:700},nameCell:{display:"flex",alignItems:"center"},avatar:{height:42,width:42,marginRight:e.spacing(1)},actions:{padding:e.spacing(1),justifyContent:"flex-end"}}}),q=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),o=a[0],u=a[1],v=Object(r.useState)(),b=Object(n.a)(v,2),p=b[0],g=b[1],U=Object(L.a)(),q=e.className,G=e.customers,I=e.AllUserData,M=Object(s.a)(e,["className","customers","AllUserData"]);console.log(I);var F=Object(D.c)(),R=W(),H=Object(r.useState)([]),J=Object(n.a)(H,2),V=J[0],X=(J[1],Object(r.useState)(0)),z=Object(n.a)(X,2),K=z[0],Q=z[1],Y=Object(r.useState)(10),Z=Object(n.a)(Y,2),$=Z[0],ee=Z[1];return l.a.createElement("div",Object.assign({},M,{className:Object(i.a)(R.root,q)}),l.a.createElement(f.a,{show:o,onHide:function(){return u(!1)}},l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,{className:"text-center justify-content-center d-flex align-items-center "},l.a.createElement("div",{className:" titlemodel   text-center "},"Create Profile Worker"))),l.a.createElement(f.a.Body,{className:"d-flex justify-content-center align-items-center "},l.a.createElement(B.default,{id:p}))),l.a.createElement(d.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},G.length," Records found. Page ",K+1," of"," ",Math.ceil(G.length/$)),l.a.createElement(h.a,null,l.a.createElement(j.a,{action:l.a.createElement(c.d,null),title:"All customers"}),l.a.createElement(N.a,null),l.a.createElement(w.a,{className:R.content},l.a.createElement(O.a,null,l.a.createElement("div",{className:R.inner},l.a.createElement(C.a,null,l.a.createElement(x.a,null,l.a.createElement(k.a,null,l.a.createElement(S.a,null,"Number"),l.a.createElement(S.a,null,"Name"),l.a.createElement(S.a,null,"Email"),l.a.createElement(S.a,null,"Phone"),l.a.createElement(S.a,null,"Sex"),l.a.createElement(S.a,{align:"right"},"Actions"))),l.a.createElement(y.a,null,null===I||void 0===I?void 0:I.map(function(e,t){var a;return l.a.createElement(k.a,{hover:!0},l.a.createElement(S.a,null,t+1),l.a.createElement(P.a,{to:"/service/user"},l.a.createElement(S.a,null,l.a.createElement("div",{className:R.nameCell},l.a.createElement("div",null,l.a.createElement(P.a,{color:"inherit",component:E.a,to:"/management/customers/1",variant:"h6"},e.username))))),l.a.createElement(S.a,null,e.email),l.a.createElement(S.a,null,null!==e.worker?e.worker.phone:""),l.a.createElement(S.a,null,null!==e.worker?e.worker.sex:""),l.a.createElement(S.a,{align:"right"},l.a.createElement(P.a,{to:{pathname:"/ViewProfile/",state:null===e||void 0===e?void 0:null===(a=e.worker)||void 0===a?void 0:a.id}},null!==(null===e||void 0===e?void 0:e.worker)?l.a.createElement(m.a,{color:"primary",style:{width:"125px"},size:"small",onClick:function(){return function(e){var t=I.filter(function(t,a){return a===e});console.log(t),F(Object(_.a)(t)),U.history.push("/ViewProfile")}(t)},variant:"outlined"},"View"):null),null===e.worker?l.a.createElement(m.a,{color:"primary",size:"small",onClick:function(){return u(!0),g(null===e||void 0===e?void 0:e.email)},variant:"outlined"},"Create Profile"):null))})))))),l.a.createElement(T.a,{className:R.actions},l.a.createElement(A.a,{component:"div",count:G.length,onChangePage:function(e,t){Q(t)},onChangeRowsPerPage:function(e){ee(e.target.value)},page:K,rowsPerPage:$,rowsPerPageOptions:[5,10,25]}))),l.a.createElement(c.s,{selected:V}))};q.defaultProps={customers:[]};var G=q,I=Object(o.a)(function(e){return{root:{padding:e.spacing(3)},results:{marginTop:e.spacing(3)}}}),M=function(){var e=I(),t=Object(r.useState)([{},{}]),a=Object(n.a)(t,2),o=a[0],s=(a[1],Object(U.a)().data,Object(D.d)(function(e){return e.GetAllUserSlice}).AllUserData);return console.log(s),l.a.createElement(c.i,{className:e.root,title:"Customer Management List"},l.a.createElement(p,{AllUserData:s}),l.a.createElement(c.p,{onFilter:function(){},onSearch:function(){}}),o&&l.a.createElement(G,{className:e.results,customers:o,AllUserData:s}))};a.d(t,"default",function(){return M})}}]);
//# sourceMappingURL=46.c4a5190f.chunk.js.map