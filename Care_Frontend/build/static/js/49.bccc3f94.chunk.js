(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1111:function(e,t,a){"use strict";a.d(t,"a",function(){return i});a(56);var n=a(32),r=(a(0),a(15)),l=a(31),c=a(121),s=a(98),o=a(26),i=function(e){var t=Object(r.c)(),a=Object(l.a)();return Object(n.useMutation)(c.a,{onSuccess:function(e){var n={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(n,"result"),t(Object(s.a)(n.data)),Object(o.a)("The account has been created","success"),setTimeout(function(){a.history.push("/auth/login")},2e3)},onError:function(e){var a,n,r={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};t(Object(s.c)(r.data)),console.log(e.response.data.message),Object(o.a)(null===e||void 0===e?void 0:null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message,"error")}})}},1451:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(0),l=a.n(r),c=a(973),s=(a(41),a(22)),o=a(8),i=a(2),u=a(1011),m=a(90),d=a(998),p=a(23),E=a(11),b=a.n(E),f=a(27),h=(a(1111),a(15)),g=(a(56),a(32)),v=a(31),j=a(121),O=a(26),N=a(353),w=a(122),x=function(e){var t=e.handleClose,a=Object(r.useState)(),c=Object(n.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(""),u=Object(n.a)(i,2),m=u[0],d=u[1],p=Object(r.useState)(""),E=Object(n.a)(p,2),x=E[0],y=E[1],S=Object(r.useState)(0),C=Object(n.a)(S,2),k=C[0],P=C[1];console.log(s);var U={email:s,password:m,username:x,role:+k},A=function(e){var t=Object(h.c)();return Object(v.a)(),Object(g.useMutation)(j.a,{onSuccess:function(e){var a={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(a,"result"),t(Object(N.a)(a.data)),Object(O.a)("The account has been created","success")},onError:function(e){var a,n,r,l,c={status:e.status+"-"+e.statusText,headers:e.headers,data:null===e||void 0===e?void 0:null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message};t(Object(N.c)(c.data)),console.log(e.response.data.message),Object(O.a)(null===e||void 0===e?void 0:null===(r=e.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.message,"error")}})}(),T=(A.isLoading,A.mutate),D=(A.isError,A.error),W=(A.refetch,Object(h.d)(function(e){return e.WorkerSignUpSlice})),B=W.WorkerUserSignUpData,G=W.errors;console.log(G);var M=function(){var e=Object(f.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""===s||""===m||""===x||""===k?Object(O.a)("Complete the fields","error"):T(U);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){B&&(t(),Object(O.a)("The account has been created","success"))},[B]),Object(r.useEffect)(function(){G&&("email in use"===G?Object(O.a)("email in use","error"):D!==[]&&G.map(function(e){return Object(O.a)(e,"error")}))},[G]),l.a.createElement("div",null,l.a.createElement("div",{class:"input-group m-2"},l.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"UserName"),l.a.createElement("input",{type:"text",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){console.log(e.target.value),y(e.target.value)},placeholder:"UserName",id:"dateofbirth"})),l.a.createElement("div",{class:"input-group m-2"},l.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"Email"),l.a.createElement("input",{type:"text",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){o(e.target.value)},placeholder:"Email",id:"dateofbirth"})),l.a.createElement("div",{class:"input-group m-2"},l.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"PassWord"),l.a.createElement("input",{type:"text",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){d(e.target.value)},placeholder:"PassWord",id:"dateofbirth"})),l.a.createElement("div",{class:"input-group m-2"},l.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"Role"),l.a.createElement("input",{type:"number",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){P(e.target.value)},placeholder:"Role",id:"dateofbirth"})),l.a.createElement("div",{className:"d-flex justify-content-end p-3"},l.a.createElement("button",{onClick:M,className:"p-2 saveBtn"},"Save")),l.a.createElement(w.a,null))},y=Object(c.a)(function(){return{root:{}}}),S=function(e){var t=e.className,a=e.AllUserData,c=Object(o.a)(e,["className","AllUserData"]),s=Object(r.useState)(!1),E=Object(n.a)(s,2),b=E[0],f=E[1],h=function(){return f(!1)},g=y();return l.a.createElement("div",Object.assign({},c,{className:Object(i.a)(g.root,t)}),l.a.createElement(p.a,{show:b,onHide:h},l.a.createElement(p.a.Header,{closeButton:!0},l.a.createElement(p.a.Title,{className:"text-center "},l.a.createElement("div",{className:""},"   Add Worker"))),l.a.createElement(p.a.Body,null,l.a.createElement(x,{handleClose:h})),l.a.createElement(p.a.Footer,null)),l.a.createElement(u.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},l.a.createElement(u.a,{item:!0},l.a.createElement(m.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Management"),l.a.createElement(m.a,{component:"h1",variant:"h3"},"Workers(",null===a||void 0===a?void 0:a.length,")")),l.a.createElement(u.a,{item:!0},l.a.createElement(d.a,{onClick:function(){return f(!0)},color:"primary",variant:"contained"},"Add Worker"))))},C=a(25),k=a(48),P=a.n(k),U=a(991),A=a(1006),T=a(995),D=a(992),W=a(1022),B=a(1026),G=a(1024),M=a(1025),R=a(1023),z=a(997),F=a(1007),H=a(1040),I=(a(108),a(168)),J=a(241),L=Object(c.a)(function(e){return{root:{},content:{padding:0},inner:{minWidth:700},nameCell:{display:"flex",alignItems:"center"},avatar:{height:42,width:42,marginRight:e.spacing(1)},actions:{padding:e.spacing(1),justifyContent:"flex-end"}}}),V=function(e){var t=Object(v.a)(),a=e.className,c=e.customers,u=e.AllUserData,p=Object(o.a)(e,["className","customers","AllUserData"]),E=Object(h.c)(),b=L(),f=Object(r.useState)([]),g=Object(n.a)(f,2),j=g[0],O=(g[1],Object(r.useState)(0)),N=Object(n.a)(O,2),w=N[0],x=N[1],y=Object(r.useState)(10),S=Object(n.a)(y,2),k=S[0],I=S[1];return l.a.createElement("div",Object.assign({},p,{className:Object(i.a)(b.root,a)}),l.a.createElement(m.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},c.length," Records found. Page ",w+1," of"," ",Math.ceil(c.length/k)),l.a.createElement(U.a,null,l.a.createElement(A.a,{action:l.a.createElement(s.d,null),title:"All customers"}),l.a.createElement(T.a,null),l.a.createElement(D.a,{className:b.content},l.a.createElement(P.a,null,l.a.createElement("div",{className:b.inner},l.a.createElement(W.a,null,l.a.createElement(B.a,null,l.a.createElement(G.a,null,l.a.createElement(M.a,null,"Number"),l.a.createElement(M.a,null,"Name"),l.a.createElement(M.a,null,"Email"),l.a.createElement(M.a,null,"Phone"),l.a.createElement(M.a,null,"Sex"),l.a.createElement(M.a,{align:"right"},"Actions"))),l.a.createElement(R.a,null,null===u||void 0===u?void 0:u.map(function(e,a){return l.a.createElement(G.a,{hover:!0},l.a.createElement(M.a,null,a+1),l.a.createElement(z.a,{to:"/service/user"},l.a.createElement(M.a,null,l.a.createElement("div",{className:b.nameCell},l.a.createElement("div",null,l.a.createElement(z.a,{color:"inherit",component:C.a,to:"/management/customers/1",variant:"h6"},e.username))))),l.a.createElement(M.a,null,e.email),l.a.createElement(M.a,null,null!==e.worker?e.worker.phone:""),l.a.createElement(M.a,null,null!==e.worker?e.worker.sex:""),l.a.createElement(M.a,{align:"right"},l.a.createElement(d.a,{color:"primary",size:"small",onClick:function(){return function(e){var a=u.filter(function(t,a){return a===e});console.log(a),E(Object(J.a)(a)),t.history.push("/ViewProfile")}(a)},variant:"outlined"},"View"),l.a.createElement(d.a,{className:"ms-1",color:"primary",size:"small",variant:"outlined"},l.a.createElement("i",{className:"fa-sharp fa-solid fa-trash p-1"}))))})))))),l.a.createElement(F.a,{className:b.actions},l.a.createElement(H.a,{component:"div",count:c.length,onChangePage:function(e,t){x(t)},onChangeRowsPerPage:function(e){I(e.target.value)},page:w,rowsPerPage:k,rowsPerPageOptions:[5,10,25]}))),l.a.createElement(s.s,{selected:j}))};V.defaultProps={customers:[]};var q=V,K=Object(c.a)(function(e){return{root:{padding:e.spacing(3)},results:{marginTop:e.spacing(3)}}}),Q=function(){var e=K(),t=Object(r.useState)([{},{}]),a=Object(n.a)(t,2),c=a[0],o=(a[1],Object(I.a)().data,Object(h.d)(function(e){return e.GetAllUserSlice}).AllUserData);return console.log(o),l.a.createElement(s.i,{className:e.root,title:"Customer Management List"},l.a.createElement(S,{AllUserData:o}),l.a.createElement(s.p,{onFilter:function(){},onSearch:function(){}}),c&&l.a.createElement(q,{className:e.results,customers:c,AllUserData:o}))};a.d(t,"default",function(){return Q})}}]);
//# sourceMappingURL=49.bccc3f94.chunk.js.map