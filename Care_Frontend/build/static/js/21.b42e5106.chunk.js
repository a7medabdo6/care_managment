(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1139:function(e,a,t){"use strict";t.d(a,"a",function(){return i});t(52);var o=t(29),n=(t(0),t(13)),l=t(28),r=(t(93),t(79),t(21)),c=t(540),s=t(265),i=function(e){var a=Object(n.c)(),t=Object(l.a)();return Object(o.useMutation)(c.a,{onSuccess:function(e){var o={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(o,"result"),a(Object(s.a)(o.data)),Object(r.a)("The Profile Edite has been created","success"),setTimeout(function(){t.history.push("/")},2e3)},onError:function(e){var a,t;Object(r.a)(null===e||void 0===e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message,"error")}})}},1147:function(e,a,t){"use strict";t(0),t(52);var o=t(29),n=t(13),l=t(28),r=(t(93),t(79),t(21)),c=(t(540),t(265),t(12)),s=t.n(c),i=t(22),d=t(23),m=function(){var e=Object(i.a)(s.a.mark(function e(a){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"multipart/form-data",token:localStorage.getItem("token")}},e.next=3,d.a.post("worker/create",a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),u=t(266);t.d(a,"a",function(){return f});var f=function(e){var a=Object(n.c)(),t=(Object(l.a)(),Object(o.useQueryClient)());return Object(o.useMutation)(m,{onSuccess:function(e){var o={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(o,"result"),a(Object(u.a)(o.data)),t.invalidateQueries("getworker"),Object(r.a)("The Profile Edite has been created","success")},onError:function(e){var a,t;Object(r.a)(null===e||void 0===e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message,"error")}})}},1513:function(e,a,t){"use strict";t.r(a);var o=t(8),n=(t(1139),t(1147)),l=t(21),r=t(0),c=t.n(r),s=t(13),i=t(103),d=t(28),m=function(){var e=Object(r.useState)(""),a=Object(o.a)(e,2),t=a[0],m=a[1],u=Object(r.useState)(""),f=Object(o.a)(u,2),b=f[0],v=f[1],p=Object(r.useState)(""),N=Object(o.a)(p,2),E=N[0],O=N[1],g=Object(r.useState)(""),j=Object(o.a)(g,2),C=j[0],h=j[1],k=Object(r.useState)(""),w=Object(o.a)(k,2),S=w[0],y=w[1],x=Object(r.useState)(""),T=Object(o.a)(x,2),L=T[0],_=T[1],q=Object(r.useState)(""),P=Object(o.a)(q,2),I=P[0],A=P[1],D=Object(r.useState)(""),F=Object(o.a)(D,2),J=F[0],X=F[1],B=Object(r.useState)(""),G=Object(o.a)(B,2),K=(G[0],G[1],Object(r.useState)("")),M=Object(o.a)(K,2),Q=(M[0],M[1],Object(d.a)(),{});localStorage.getItem("user")&&(Q=JSON.parse(localStorage.getItem("user")),console.log(Q.id));var z=Object(n.a)(),H=(z.isLoading,z.mutate),R=(z.isError,z.error,z.refetch,Object(s.d)(function(e){return e.GreateProfileSlice}).GreateProfileData);return console.log(R),c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"m-5"},c.a.createElement("h2",{className:"bold"},"Create Profile")),c.a.createElement("form",{className:"row g-3 bg-white needs-validation m-5",novalidate:!0},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"BOD"),c.a.createElement("input",{type:"date",onChange:function(e){m(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom02",className:"form-label fw-bold"},"NI Number"),c.a.createElement("input",{type:"number",onChange:function(e){v(e.target.value)},className:"form-control",id:"validationCustom02",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"Adress"),c.a.createElement("input",{type:"text",onChange:function(e){O(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"Phone"),c.a.createElement("input",{type:"number",onChange:function(e){h(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"NEXT_OF_KIN"),c.a.createElement("input",{type:"text",onChange:function(e){y(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"SEX"),c.a.createElement("input",{type:"text",onChange:function(e){A(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"NEXT OF KIN CONTACT"),c.a.createElement("input",{type:"text",onChange:function(e){_(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"Application"),c.a.createElement("input",{className:"form-control",onChange:function(e){e.target.files&&e.target.files[0]&&X(e.target.files[0])},type:"file",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-12"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:function(e){if(e.preventDefault(),""===t||""===J||""===b||""===I||""===E||""===L||""===S||""===C)Object(l.a)("Please complete the fields","warn");else{var a,o=new FormData;o.append("Ni_Number",b),o.append("BOD",t),o.append("sex",I),o.append("Adress",E),o.append("next_of_kin_Contact",L),o.append("next_of_kin",S),o.append("phone",C),o.append("user_email",null===(a=Q)||void 0===a?void 0:a.email),o.append("Application",J),H(o)}}},"Create"))),c.a.createElement(i.a,null))};t.d(a,"default",function(){return m})}}]);
//# sourceMappingURL=21.b42e5106.chunk.js.map