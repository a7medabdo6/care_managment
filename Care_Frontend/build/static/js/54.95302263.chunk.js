(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1273:function(e,a,t){"use strict";var r=t(20);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t(0)),s=(0,r(t(25)).default)(n.default.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");a.default=s},1492:function(e,a,t){"use strict";t.r(a);var r=t(33),n=t(0),s=t.n(n),i=t(1052),o=t(1073),c=t(1074),l=t(92),u=t(1077),d=t(1091),m=t(1273),p=t.n(m),g=t(15),f=t(45),b=t(12),v=t.n(b),h=t(22),w=t(24),j=t(8),E=t(9),O=t(309),x=t.n(O),y=t(2),k=t(13),N=t(1111),S=t(1080),C=t(28),T=(t(556),t(52),t(29)),R=t(23),V=function(){var e=Object(h.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post("users/signin/",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),_=t(368),B=t(27),I={email:{presence:{allowEmpty:!1,message:"is required"},email:!0},password:{presence:{allowEmpty:!1,message:"is required"}}},z=Object(i.a)(function(e){return{root:{},fields:{margin:e.spacing(-1),display:"flex",flexWrap:"wrap","& > *":{flexGrow:1,margin:e.spacing(1)}},submitButton:{marginTop:e.spacing(2),width:"100%"}}}),M=function(e){var a=e.className,t=Object(E.a)(e,["className"]),i=z(),o=(Object(C.a)(),Object(k.c)(),Object(n.useState)({isValid:!1,values:{},touched:{},errors:{}})),c=Object(j.a)(o,2),l=c[0],u=c[1];Object(n.useEffect)(function(){var e=x()(l.values,I);u(function(a){return Object(w.a)({},a,{isValid:!e,errors:e||{}})})},[l.values]);var d=function(e){e.persist(),u(function(a){return Object(w.a)({},a,{values:Object(w.a)({},a.values,Object(r.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value)),touched:Object(w.a)({},a.touched,Object(r.a)({},e.target.name,!0))})})},m={email:l.values.email,password:l.values.password},p=function(e){var a=Object(k.c)();return Object(C.a)(),Object(T.useMutation)(V,{onSuccess:function(e){var t={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};return console.log(t),a(Object(_.a)(t.data)),localStorage.setItem("user",JSON.stringify(t.data)),localStorage.setItem("token",t.data.Token),null===t.data.worker?window.location.replace("/user/CreateProfile"):window.location.replace("/"),t.data},onError:function(e){console.log(e)}})}(),g=(p.isLoading,p.mutate),f=(p.isError,p.error,p.refetch,Object(k.d)(function(e){return e.UserInfo}).userData);Object(n.useEffect)(function(){console.log(f)},[f]);var b=function(){var e=Object(h.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),g(m);case 2:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),O=function(e){return!(!l.touched[e]||!l.errors[e])};return s.a.createElement("form",Object.assign({},t,{className:Object(y.a)(i.root,a),onSubmit:b}),s.a.createElement("div",{className:i.fields},s.a.createElement(N.a,{error:O("email"),fullWidth:!0,helperText:O("email")?l.errors.email[0]:null,label:"Email address",name:"email",onChange:d,value:l.values.email||"",variant:"outlined"}),s.a.createElement(N.a,{error:O("password"),fullWidth:!0,helperText:O("password")?l.errors.password[0]:null,label:"Password",name:"password",onChange:d,type:"password",value:l.values.password||"",variant:"outlined"})),s.a.createElement(S.a,{className:i.submitButton,color:"secondary",disabled:!l.isValid,size:"large",type:"submit",variant:"contained"},"Sign in"),s.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},s.a.createElement("p",null,"Have a account ?"),s.a.createElement(B.a,{to:"/auth/register"},s.a.createElement("h6",null,"Sign Up"))))},P=Object(i.a)(function(e){return{root:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(6,2)},card:{width:e.breakpoints.values.md,maxWidth:"100%",overflow:"unset",display:"flex",position:"relative","& > *":{flexGrow:1,flexBasis:"50%",width:"50%"}},content:{padding:e.spacing(8,4,3,4)},media:Object(r.a)({borderTopRightRadius:4,borderBottomRightRadius:4,padding:e.spacing(3),color:e.palette.white,display:"flex",flexDirection:"column",justifyContent:"flex-end"},e.breakpoints.down("md"),{display:"none"}),icon:{backgroundImage:f.a.green,color:e.palette.white,borderRadius:e.shape.borderRadius,padding:e.spacing(1),position:"absolute",top:-32,left:e.spacing(3),height:64,width:64,fontSize:32},loginForm:{marginTop:e.spacing(3)},divider:{margin:e.spacing(2,0)},person:{marginTop:e.spacing(2),display:"flex"},avatar:{marginRight:e.spacing(2)}}}),W=function(){var e=P();return s.a.createElement(g.i,{className:e.root,title:"Login"},s.a.createElement(o.a,{className:e.card},s.a.createElement(c.a,{className:e.content},s.a.createElement(p.a,{className:e.icon}),s.a.createElement(l.a,{gutterBottom:!0,variant:"h3"},"Sign in"),s.a.createElement(l.a,{variant:"subtitle2"},"Sign in on the Care Managment platform"),s.a.createElement(M,{className:e.loginForm}),s.a.createElement(u.a,{className:e.divider})),s.a.createElement(d.a,{className:e.media,image:"https://www.roundsys.com/public/rockstar/public_page_banner_images/upload__Vgx8Bv.jpeg",title:"Cover"},s.a.createElement(l.a,{color:"inherit",variant:"subtitle1"},"The Care Management System , Exceed Compliance , Reduce Paper , Improve Care"))))};t.d(a,"default",function(){return W})}}]);
//# sourceMappingURL=54.95302263.chunk.js.map