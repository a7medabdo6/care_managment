(window.webpackJsonp=window.webpackJsonp||[]).push([[46,51],{1139:function(e,t,a){"use strict";a.d(t,"a",function(){return i});a(52);var n=a(29),r=(a(0),a(13)),l=a(28),o=(a(93),a(79),a(21)),c=a(540),s=a(265),i=function(e){var t=Object(r.c)(),a=Object(l.a)();return Object(n.useMutation)(c.a,{onSuccess:function(e){var n={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(n,"result"),t(Object(s.a)(n.data)),Object(o.a)("The Profile Edite has been created","success"),setTimeout(function(){a.history.push("/")},2e3)},onError:function(e){var t,a;Object(o.a)(null===e||void 0===e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,"error")}})}},1147:function(e,t,a){"use strict";a(0),a(52);var n=a(29),r=a(13),l=a(28),o=(a(93),a(79),a(21)),c=(a(540),a(265),a(12)),s=a.n(c),i=a(22),u=a(23),d=function(){var e=Object(i.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"multipart/form-data",token:localStorage.getItem("token")}},e.next=3,u.a.post("worker/create",t,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),m=a(266);a.d(t,"a",function(){return f});var f=function(e){var t=Object(r.c)(),a=(Object(l.a)(),Object(n.useQueryClient)());return Object(n.useMutation)(d,{onSuccess:function(e){var n={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(n,"result"),t(Object(m.a)(n.data)),a.invalidateQueries("getworker"),Object(o.a)("The Profile Edite has been created","success")},onError:function(e){var t,a;Object(o.a)(null===e||void 0===e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,"error")}})}},1154:function(e,t,a){"use strict";a.r(t);var n=a(8),r=(a(1139),a(1147)),l=a(21),o=a(0),c=a.n(o),s=a(13),i=a(103),u=a(28),d=a(149),m=function(e){var t=e.id,a=e.handleCloseMODL;console.log(t);var m=Object(o.useState)(""),f=Object(n.a)(m,2),v=f[0],b=f[1],p=Object(o.useState)(""),E=Object(n.a)(p,2),g=E[0],O=E[1],j=Object(o.useState)(""),h=Object(n.a)(j,2),N=h[0],C=h[1],w=Object(o.useState)(""),x=Object(n.a)(w,2),k=x[0],S=x[1],y=Object(o.useState)(""),P=Object(n.a)(y,2),T=P[0],A=P[1],D=Object(o.useState)(""),U=Object(n.a)(D,2),L=U[0],B=U[1],M=Object(o.useState)(""),W=Object(n.a)(M,2),q=W[0],G=W[1],I=Object(o.useState)(""),_=Object(n.a)(I,2),F=_[0],R=_[1],H=Object(o.useState)(""),Q=Object(n.a)(H,2),J=(Q[0],Q[1],Object(o.useState)("")),X=Object(n.a)(J,2),z=(X[0],X[1],Object(u.a)(),{});localStorage.getItem("user")&&(z=JSON.parse(localStorage.getItem("user")),console.log(z.id));Object(d.a)().data;var K=Object(s.d)(function(e){return e.GetAllUserSlice}).AllUserData,V=Object(r.a)(),Y=V.data,Z=V.mutate,$=(V.isError,V.error,V.refetch,Object(s.d)(function(e){return e.GreateProfileSlice}).GreateProfileData);return console.log($),Object(o.useEffect)(function(){Y&&a()},[Y]),c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"m-5"}),c.a.createElement("form",{className:"row g-3 bg-white needs-validation m-5",novalidate:!0},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"BOD"),c.a.createElement("input",{type:"date",onChange:function(e){b(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom02",className:"form-label fw-bold"},"NI Number"),c.a.createElement("input",{type:"number",onChange:function(e){O(e.target.value)},className:"form-control",id:"validationCustom02",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"Adress"),c.a.createElement("input",{type:"text",onChange:function(e){C(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"Phone"),c.a.createElement("input",{type:"number",onChange:function(e){S(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"NEXT OF KIN"),c.a.createElement("input",{type:"text",onChange:function(e){A(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"SEX"),c.a.createElement("input",{type:"text",onChange:function(e){G(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"NEXT OF KIN CONTACT"),c.a.createElement("input",{type:"text",onChange:function(e){B(e.target.value)},className:"form-control",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("label",{for:"validationCustom01",className:"form-label fw-bold"},"Application"),c.a.createElement("input",{className:"form-control",onChange:function(e){e.target.files&&e.target.files[0]&&R(e.target.files[0])},type:"file",id:"validationCustom01",required:!0}),c.a.createElement("div",{className:"valid-feedback"},"Looks good!")),c.a.createElement("div",{className:"col-12"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:function(e){if(e.preventDefault(),null===K||void 0===K||K.filter(function(e){return e}),""===v||""===F||""===g||""===q||""===N||""===L||""===T||""===k)Object(l.a)("Please complete the fields","warn");else{var a=new FormData;a.append("Ni_Number",g),a.append("BOD",v),a.append("sex",q),a.append("Adress",N),a.append("next_of_kin_Contact",L),a.append("next_of_kin",T),a.append("phone",k),a.append("user_email",t),a.append("Application",F),Z(a)}}},"Create"))),c.a.createElement(i.a,null))};a.d(t,"default",function(){return m})},1155:function(e,t,a){"use strict";a.d(t,"a",function(){return i});a(52);var n=a(29),r=(a(0),a(13)),l=a(28),o=a(93),c=a(79),s=a(21),i=function(e){var t=Object(r.c)(),a=Object(l.a)();return Object(n.useMutation)(o.a,{onSuccess:function(e){var n={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(n,"result"),t(Object(c.a)(n.data)),Object(s.a)("The account has been created","success"),setTimeout(function(){a.history.push("/auth/login")},2e3)},onError:function(e){var a,n,r={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};t(Object(c.c)(r.data)),console.log(e.response.data.message),Object(s.a)(null===e||void 0===e?void 0:null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message,"error")}})}},1214:function(e,t,a){"use strict";var n=a(12),r=a.n(n),l=a(22),o=a(8),c=a(0),s=a.n(c),i=(a(1155),a(13)),u=(a(52),a(29)),d=a(28),m=a(93),f=a(21),v=a(337),b=a(103);a(1154),t.a=function(e){var t=e.handleClose,a=Object(c.useState)(),n=Object(o.a)(a,2),p=n[0],E=n[1],g=Object(c.useState)(""),O=Object(o.a)(g,2),j=O[0],h=O[1],N=Object(c.useState)(""),C=Object(o.a)(N,2),w=C[0],x=C[1],k=Object(c.useState)(0),S=Object(o.a)(k,2),y=S[0],P=S[1];console.log(p);var T={email:p,password:j,username:w,role:+y},A=function(e){var t=Object(i.c)(),a=(Object(d.a)(),Object(u.useQueryClient)());return Object(u.useMutation)(m.a,{onSuccess:function(e){var n={status:e.status+"-"+e.statusText,headers:e.headers,data:e.data};console.log(n,"result"),t(Object(v.a)(n.data)),Object(f.a)("The account has been created","success"),a.invalidateQueries("getprofile")},onError:function(e){var a,n,r,l,o={status:e.status+"-"+e.statusText,headers:e.headers,data:null===e||void 0===e?void 0:null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message};t(Object(v.c)(o.data)),console.log(e.response.data.message),Object(f.a)(null===e||void 0===e?void 0:null===(r=e.response)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.message,"error")}})}(),D=(A.isLoading,A.mutate),U=A.data,L=A.error,B=(A.refetch,Object(i.d)(function(e){return e.WorkerSignUpSlice})),M=(B.WorkerUserSignUpData,B.errors);console.log(M);var W=function(){var e=Object(l.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""===p||""===j||""===w||""===y?Object(f.a)("Complete the fields","error"):D(T);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)(function(){U&&(t(),Object(f.a)("The account has been created","success"))},[U]),Object(c.useEffect)(function(){M&&("email in use"===M?Object(f.a)("email in use","error"):L!==[]&&M.map(function(e){return Object(f.a)(e,"error")}))},[M]),s.a.createElement("div",null,s.a.createElement("div",{class:"input-group m-2"},s.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"UserName"),s.a.createElement("input",{type:"text",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){console.log(e.target.value),x(e.target.value)},placeholder:"UserName",id:"dateofbirth"})),s.a.createElement("div",{class:"input-group m-2"},s.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"Email"),s.a.createElement("input",{type:"text",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){E(e.target.value)},placeholder:"Email",id:"dateofbirth"})),s.a.createElement("div",{class:"input-group m-2"},s.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"PassWord"),s.a.createElement("input",{type:"text",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){h(e.target.value)},placeholder:"PassWord",id:"dateofbirth"})),s.a.createElement("div",{class:"input-group m-2"},s.a.createElement("span",{className:"input-group-text spantxt",id:"basic-addon1",style:{width:"200px"}},"Role"),s.a.createElement("input",{type:"number",name:"dateofbirth",className:"form-control inputshadowGender",onChange:function(e){P(e.target.value)},placeholder:"Role",id:"dateofbirth"})),s.a.createElement("div",{className:"d-flex justify-content-end p-3"},s.a.createElement("button",{onClick:W,className:"p-2 saveBtn"},"Save")),s.a.createElement(b.a,null))}},1498:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(0),l=a.n(r),o=a(1052),c=(a(41),a(15)),s=a(9),i=a(2),u=a(1093),d=a(92),m=a(1080),f=a(17),v=a(1214),b=Object(o.a)(function(){return{root:{}}}),p=function(e){var t=e.className,a=e.AllUserData,o=Object(s.a)(e,["className","AllUserData"]),c=Object(r.useState)(!1),p=Object(n.a)(c,2),E=p[0],g=p[1],O=function(){return g(!1)},j=b();return l.a.createElement("div",Object.assign({},o,{className:Object(i.a)(j.root,t)}),l.a.createElement(f.a,{show:E,onHide:O},l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,{className:"text-center "},l.a.createElement("div",{className:""},"   Add Worker"))),l.a.createElement(f.a.Body,null,l.a.createElement(v.a,{handleClose:O})),l.a.createElement(f.a.Footer,null)),l.a.createElement(u.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},l.a.createElement(u.a,{item:!0},l.a.createElement(d.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Management"),l.a.createElement(d.a,{component:"h1",variant:"h3"},"Workers(",null===a||void 0===a?void 0:a.length,")")),l.a.createElement(u.a,{item:!0},l.a.createElement(m.a,{onClick:function(){return g(!0)},color:"primary",variant:"contained"},"Add Worker"))))},E=a(27),g=a(46),O=a.n(g),j=a(1073),h=a(1088),N=a(1077),C=a(1074),w=a(1104),x=a(1108),k=a(1106),S=a(1107),y=a(1105),P=a(1089),T=a(1122),A=(a(95),a(149)),D=a(13),U=a(267),L=a(28),B=a(1154),M=Object(o.a)(function(e){return{root:{},content:{padding:0},inner:{minWidth:700},nameCell:{display:"flex",alignItems:"center"},avatar:{height:42,width:42,marginRight:e.spacing(1)},actions:{padding:e.spacing(1),justifyContent:"flex-end"}}}),W=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),o=a[0],u=a[1],v=function(){return u(!1)},b=Object(r.useState)(),p=Object(n.a)(b,2),g=p[0],A=p[1],W=(Object(L.a)(),e.className),q=e.customers,G=e.AllUserData,I=Object(s.a)(e,["className","customers","AllUserData"]);console.log(G);var _=Object(D.c)(),F=M(),R=Object(r.useState)([]),H=Object(n.a)(R,2),Q=H[0],J=(H[1],Object(r.useState)(0)),X=Object(n.a)(J,2),z=X[0],K=X[1],V=Object(r.useState)(10),Y=Object(n.a)(V,2),Z=Y[0],$=Y[1];return l.a.createElement("div",Object.assign({},I,{className:Object(i.a)(F.root,W)}),l.a.createElement(f.a,{show:o,onHide:v},l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,{className:"text-center justify-content-center d-flex align-items-center "},l.a.createElement("div",{className:" titlemodel   text-center "},"Create Profile Worker"))),l.a.createElement(f.a.Body,{className:"d-flex justify-content-center align-items-center "},l.a.createElement(B.default,{handleCloseMODL:v,id:g}))),l.a.createElement(d.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},q.length," Records found. Page ",z+1," of"," ",Math.ceil(q.length/Z)),l.a.createElement(j.a,null,l.a.createElement(h.a,{action:l.a.createElement(c.d,null),title:"All customers"}),l.a.createElement(N.a,null),l.a.createElement(C.a,{className:F.content},l.a.createElement(O.a,null,l.a.createElement("div",{className:F.inner},l.a.createElement(w.a,null,l.a.createElement(x.a,null,l.a.createElement(k.a,null,l.a.createElement(S.a,null,"Number"),l.a.createElement(S.a,null,"Name"),l.a.createElement(S.a,null,"Email"),l.a.createElement(S.a,null,"Phone"),l.a.createElement(S.a,null,"Sex"),l.a.createElement(S.a,{align:"right"},"Actions"))),l.a.createElement(y.a,null,null===G||void 0===G?void 0:G.map(function(e,t){return l.a.createElement(k.a,{hover:!0},l.a.createElement(S.a,null,t+1),l.a.createElement(E.a,{to:"/service/user"},l.a.createElement(S.a,null,l.a.createElement("div",{className:F.nameCell},l.a.createElement("div",null,l.a.createElement(E.a,{color:"inherit",component:E.a,to:"/management/customers/1",variant:"h6"},e.username))))),l.a.createElement(S.a,null,e.email),l.a.createElement(S.a,null,null!==e.worker?e.worker.phone:""),l.a.createElement(S.a,null,null!==e.worker?e.worker.sex:""),l.a.createElement(S.a,{align:"right"},null!==(null===e||void 0===e?void 0:e.worker)?l.a.createElement(E.a,{to:{pathname:"/ViewProfile",state:e}},l.a.createElement(m.a,{color:"primary",style:{width:"125px",cursor:"pointer"},size:"small",onClick:function(){var a;return function(e){var t=G.filter(function(t,a){return a===e});console.log(t),_(Object(U.a)(t))}(t),A(null===e||void 0===e?void 0:null===(a=e.worker)||void 0===a?void 0:a.id)},variant:"outlined"},"View")):null,null===e.worker?l.a.createElement(m.a,{color:"primary",size:"small",onClick:function(){return u(!0),A(null===e||void 0===e?void 0:e.email)},variant:"outlined"},"Create Profile"):null))})))))),l.a.createElement(P.a,{className:F.actions},l.a.createElement(T.a,{component:"div",count:q.length,onChangePage:function(e,t){K(t)},onChangeRowsPerPage:function(e){$(e.target.value)},page:z,rowsPerPage:Z,rowsPerPageOptions:[5,10,25]}))),l.a.createElement(c.s,{selected:Q}))};W.defaultProps={customers:[]};var q=W,G=Object(o.a)(function(e){return{root:{padding:e.spacing(3)},results:{marginTop:e.spacing(3)}}}),I=function(){var e=G(),t=Object(r.useState)([{},{}]),a=Object(n.a)(t,2),o=a[0],s=(a[1],Object(A.a)().data,Object(D.d)(function(e){return e.GetAllUserSlice}).AllUserData);return console.log(s),l.a.createElement(c.i,{className:e.root,title:"Customer Management List"},l.a.createElement(p,{AllUserData:s}),l.a.createElement(c.p,{onFilter:function(){},onSearch:function(){}}),o&&l.a.createElement(q,{className:e.results,customers:o,AllUserData:s}))};a.d(t,"default",function(){return I})}}]);
//# sourceMappingURL=46.ad6c395f.chunk.js.map